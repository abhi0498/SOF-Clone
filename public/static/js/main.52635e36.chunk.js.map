{"version":3,"sources":["context/auth-context.js","pages/Auth.jsx","pages/Home.jsx","pages/Questions.jsx","pages/AddQuestion.jsx","pages/Question.jsx","components/Navbar.jsx","App.js","serviceWorker.js","index.js"],"names":["React","createContext","token","userID","API","login","logout","Auth","useState","displayError","setDisplayError","pageState","setPageState","emailID","setEmailID","password","setPassword","error","setError","displaySuccess","setdisplaySuccess","context","useContext","AuthContext","className","onSubmit","e","preventDefault","trim","length","reqBody","query","fetch","method","body","JSON","stringify","headers","then","res","json","errors","message","setTimeout","data","sessionStorage","setItem","tokenExpiration","console","log","catch","err","htmlFor","onChange","target","value","type","id","aria-describedby","role","onClick","Home","to","href","Questions","props","questions","setQuestions","isLoading","setIsLoading","title","setTitle","text","setText","askQuestionOpen","setAskQuestionOpen","submitted","setsubmitted","useEffect","content","map","question","_id","key","creator","email","style","transition","aria-label","aria-hidden","alert","rows","AddQuestion","Question","useParams","answers","setAnswers","setAnswered","forEach","answer","createdAt","cols","Navbar","App","settoken","setuserID","getItem","Provider","removeItem","path","component","AuthPage","exact","from","QuestionsPage","AskQuestion","HomePage","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.52635e36.chunk.js","sourcesContent":["import React from 'react'\n\nexport default React.createContext({\n    token: null,\n    userID: null,\n    API: 'http://localhost:5000/graphql',\n    login: () => { },\n    logout: () => { }\n})","import React, { useState, useContext } from 'react';\nimport AuthContext from '../context/auth-context'\nimport '../css/auth.css'\n\nconst Auth = () => {\n    const [displayError, setDisplayError] = useState(false)\n    const [pageState, setPageState] = useState('login')\n    const [emailID, setEmailID] = useState('');\n    const [password, setPassword] = useState('')\n    const [error, setError] = useState('')\n    const [displaySuccess, setdisplaySuccess] = useState(false)\n\n    const context = useContext(AuthContext);\n\n    const changePageState = () => {\n        if (pageState === 'login') setPageState('signup')\n        else setPageState('login')\n        setdisplaySuccess(false)\n    }\n    const login = (e) => {\n        context.token = 'a'\n        e.preventDefault()\n        if (emailID.trim().length === 0 || password.trim().length === 0) {\n            return\n        }\n        let reqBody = {\n            query: `\n        mutation{\n            signUp(UserData:{email:\"${emailID}\",password:\"${password}\"})\n        }`}\n\n        if (pageState === 'login') {\n            reqBody = {\n                query: `\n            query{\n                login(UserData:{email:\"${emailID}\",password:\"${password}\"}){\n                    userID\n                    tokenExpiration\n                    token\n                }\n            }`}\n        }\n\n        fetch(context.API, {\n            method: 'POST',\n            body: JSON.stringify(reqBody),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => {\n                return res.json()\n            })\n            .then(res => {\n\n                if (res.errors) {\n                    setError(res.errors[0].message)\n                    setDisplayError(true)\n                    setTimeout(() => {\n                        setDisplayError(false)\n                    }, 3000);\n                    setdisplaySuccess(false)\n                }\n                else {\n                    setError('')\n                    setDisplayError(false)\n                    setdisplaySuccess(true)\n                }\n                if (res.data.login.token) {\n                    sessionStorage.setItem('token', res.data.login.token);\n                    sessionStorage.setItem('userID', res.data.login.userID);\n                    sessionStorage.setItem('tokenExpiration', res.data.login.tokenExpiration);\n                    context.login(res.data.login.token, res.data.login.userID, res.data.login.tokenExpiration)\n                }\n                console.log(res.errors);\n                console.log(res);\n\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n    return (\n        <div>\n            <h1>{pageState !== 'login' ? 'SignUp' : 'Login'}</h1>\n            <form className='container' onSubmit={login}>\n                <div className=\"w-50 mr-auto\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"emailID\">Email address</label>\n                        <input onChange={(e) => {\n                            setEmailID(e.target.value)\n                        }} type=\"email\" className=\"form-control\" id=\"emailID\" aria-describedby=\"emailHelp\" />\n                        <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input onChange={(e) => {\n                            setPassword(e.target.value)\n                        }} type=\"password\" className=\"form-control\" id=\"password\" />\n                    </div>\n                    <p className={`alert alert-danger ${displayError ? '' : 'd-none'}`} role=\"alert\">\n                        {error}</p>\n                    <p className={`alert alert-primary ${displaySuccess ? '' : 'd-none'}`} role=\"alert\">\n                        Successfully signed up.Please login.</p>\n                    <div className=\"d-flex justify-content-around mt-5\">\n                        <button className=\"btn btn-primary\">{pageState !== 'login' ? 'SignUp' : 'Login'}</button>\n                    </div>\n                    <p onClick={changePageState} >Go to {pageState === 'login' ? 'SignUp' : 'Login'} Page</p>\n                </div>\n            </form>\n\n\n\n        </div >\n    );\n}\n\nexport default Auth;\n","import React from 'react';\nimport { Link } from 'react-router-dom'\nconst Home = () => {\n    return (\n        <div className='container mt-5'>\n            <h1>Home</h1>\n            <p>Welcome to my site. Here I  have tried to recreate the most basic version on stack overflow.You can visit the questions page after you are logged in.</p>\n            <Link to='/questions'>Questions</Link>\n            <p>Link to my github - <a href=\"https://github.com/abhi0498\" target='_blank'>Github</a></p>\n\n        </div>\n    );\n}\n\nexport default Home;\n","import React, { useState, useEffect, useContext } from 'react'\nimport AuthContext from '../context/auth-context'\n\nimport { Link } from 'react-router-dom'\n\nconst Questions = props => {\n    const [questions, setQuestions] = useState([])\n    const [isLoading, setIsLoading] = useState(true);\n\n    const [title, setTitle] = useState('');\n    const [text, setText] = useState('')\n    const [askQuestionOpen, setAskQuestionOpen] = useState(false);\n    const [submitted, setsubmitted] = useState(false)\n    const context = useContext(AuthContext)\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        setsubmitted(!submitted)\n        alert(\"Question submitted\")\n        setAskQuestionOpen(false)\n        let reqBody = {\n            query: `\n            mutation{\n                askQuestion(QuestionData:{title:\"${title}\",text:\"${text}\"})\n              }`}\n\n        fetch(context.API, {\n            method: 'POST',\n            body: JSON.stringify(reqBody),\n            headers: {\n                'Authorization': 'Bearer ' + context.token,\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(res => {\n                console.log(res);\n                return res.json()\n            })\n            .then(json => {\n                console.log(json);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n\n    }\n\n    useEffect(() => {\n        console.log('useeffect');\n        const a = () => {\n            const reqBody = {\n                query: `\n        query{\n            questions{\n                _id\n                title\n                creator{\n                    email\n                }\n            }\n        }`}\n\n            fetch(context.API, {\n                method: 'POST',\n                body: JSON.stringify(reqBody),\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n                .then(res => {\n                    return res.json()\n                })\n                .then(json => {\n                    setQuestions(json.data.questions)\n                    setIsLoading(false)\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n\n        }\n        a();\n    }, [submitted])\n\n\n    let content = <div className='d-flex align-items-center mt-5 '>\n        <div className=\"spinner-border mx-auto  align-self-center m-auto text-primary\" role=\"status\">\n            <span className=\"sr-only\">Loading...</span>\n        </div>\n    </div>\n    if (!isLoading) {\n        content = questions.map(question => {\n            return <Link to={`/questions/${question._id}`} className='container' key={question._id}>\n                <div className=\"card bg-secondary text-white m-4\">\n                    <div className=\" display-4 card-header\">\n                        {question.title}\n                    </div>\n                    <div className=\"card-body\">\n                        <blockquote className=\"blockquote mb-0\">\n                            <footer className=\"blockquote-footer\">{question.creator.email}</footer>\n                        </blockquote>\n                    </div>\n\n                </div>\n\n            </Link >\n        })\n    }\n    return (\n        <div className='mx-5 container'>\n            <h1>Questions</h1>\n            <div className='container' style={{ transition: 'height 2s' }}>\n                {!askQuestionOpen && (<button onClick={() => {\n                    setAskQuestionOpen(true)\n                }}>Ask Your Question </button>)}\n                {askQuestionOpen && (\n                    <   >\n                        <div className='d-flex justify-content-start align-items-center'>\n                            <h3>Ask your Question</h3>\n                            <button onClick={() => {\n                                setAskQuestionOpen(false)\n                            }} type=\"button\" className=\"close ml-5 mb-1\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n\n                        <form className='container' onSubmit={submitHandler}>\n                            <div className=\"w-50 mr-auto\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"emailID\">Title</label>\n                                    <input onChange={(e) => {\n                                        setTitle(e.target.value)\n                                    }} type=\"text\" className=\"form-control\" id=\"title\" />\n                                </div>\n\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"text\">Text</label>\n                                    <textarea onChange={(e) => {\n                                        setText(e.target.value)\n                                    }} className=\"form-control\" id=\"text\" rows=\"3\"></textarea>\n                                </div>\n\n                                <button>Submit</button>\n                            </div>\n                        </form>\n                    </>)}\n            </div>\n\n            {content}\n        </div>\n    )\n\n}\n\nexport default Questions;\n","import React, { useState, useContext } from 'react'\nimport AuthContext from '../context/auth-context'\n\n\nconst AddQuestion = () => {\n    const [title, setTitle] = useState('');\n    const [text, setText] = useState('')\n    const [askQuestionOpen, setAskQuestionOpen] = useState(false);\n    const context = useContext(AuthContext)\n    const submitHandler = (e) => {\n        e.preventDefault()\n        let reqBody = {\n            query: `\n            mutation{\n                askQuestion(QuestionData:{title:\"${title}\",text:\"${text}\"})\n              }`}\n\n\n\n        fetch('/graphql', {\n            method: 'POST',\n            body: JSON.stringify(reqBody),\n            headers: {\n                'Authorization': 'Bearer ' + context.token,\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(res => {\n                return res.json()\n            })\n            .then(json => {\n                console.log(json);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n\n    }\n\n    return (\n        <div className='container' style={{ transition: 'height 2s' }}>\n            {!askQuestionOpen && (<button onClick={() => {\n                setAskQuestionOpen(true)\n            }}>Open </button>)}\n            {askQuestionOpen && (\n                <   >\n                    <div className='d-flex justify-content-start align-items-center'>\n                        <h3>Ask your Question</h3>\n                        <button onClick={() => {\n                            setAskQuestionOpen(false)\n                        }} type=\"button\" className=\"close ml-5 mb-1\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n\n                    <form className='container' onSubmit={submitHandler}>\n                        <div className=\"w-50 mr-auto\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"emailID\">Title</label>\n                                <input onChange={(e) => {\n                                    setTitle(e.target.value)\n                                }} type=\"text\" className=\"form-control\" id=\"title\" />\n                            </div>\n\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"text\">Text</label>\n                                <textarea onChange={(e) => {\n                                    setText(e.target.value)\n                                }} className=\"form-control\" id=\"text\" rows=\"3\"></textarea>\n                            </div>\n\n                            <button>Submit</button>\n                        </div>\n                    </form>\n                </>)}\n        </div>\n    )\n}\n\nexport default AddQuestion;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom'\nimport AuthContext from \"../context/auth-context\";\n\nconst Question = () => {\n    const context = useContext(AuthContext);\n    const { id } = useParams()\n    const [text, setText] = useState('');\n    const [questions, setQuestions] = useState([])\n    const [answers, setAnswers] = useState([])\n    const [answered, setAnswered] = useState(false)\n\n\n    const [isLoading, setIsLoading] = useState(true);\n    const [submitted, setsubmitted] = useState([]);\n    const submitHandler = (e) => {\n        e.preventDefault()\n        if (text.trim().length === 0) {\n            alert(\"Enter some text\")\n            return\n        }\n\n        let reqBody = {\n            query: `\n            mutation{\n                answerQuestion(AnswerData:{text:\"${text}\",questionID:\"${id}\"})\n              }`}\n        fetch(context.API, {\n            method: 'POST',\n            body: JSON.stringify(reqBody),\n            headers: {\n                'Authorization': 'Bearer ' + context.token,\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(res => {\n                console.log(res);\n                return res.json()\n            })\n            .then(json => {\n                console.log(json);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        setsubmitted(!submitted)\n    }\n    useEffect(() => {\n\n        console.log('useEffect');\n\n        const reqBody = {\n            query: `\n        query{\n            question(id:\"${id}\"){\n                _id\n                title\n                text\n                creator{\n                    email\n                }\n                createdAt\n                answers{\n                    _id\n                        creator{\n                            _id \n                            email\n                        }\n                        text\n                        createdAt\n                }\n            }\n        }`}\n\n        fetch(context.API, {\n            method: 'POST',\n            body: JSON.stringify(reqBody),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => {\n                return res.json()\n            })\n            .then(json => {\n                setQuestions(json.data.question)\n                setAnswers(json.data.question.answers)\n                setIsLoading(false)\n                answers.forEach(answer => {\n                    if (answer.creator._id === context.userID) {\n                        setAnswered(true)\n                    }\n                })\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }, [submitted])\n\n    setTimeout(() => {\n        setsubmitted(!submitted)\n    }, 5000);\n\n    return (\n        <div className='mx-5'>\n            <h1>Question</h1>\n            {isLoading && (\n                <div className='d-flex align-items-center mt-5 '>\n                    <div className=\"spinner-border mx-auto  align-self-center m-auto text-primary\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                </div>)}\n            {!isLoading &&\n                (<div className='container mt-5'>\n\n                    <div className=\"jumbotron\">\n                        <h1 className=\"display-4\" title='title'>{questions.title}</h1>\n                        <p className=\"lead\" title='title'>{questions.text}</p>\n                        <hr className=\"my-4\" />\n\n                        <p title='date' className=\"lead\">\n                            Asked On {questions.createdAt}\n                        </p>\n                        <p title='asked by'>by - {questions.creator.email}</p>\n\n                    </div>\n\n\n                    <div className='d-flex justify-content-start align-items-center'>\n                        <h3>Answer this Question</h3>\n\n                    </div>\n\n                    <form className='container jumbotron w-xs-100 w-md-75' onSubmit={submitHandler}>\n                        <div className=\"mr-auto\">\n                            <div className=\"form-group d-flex flex-sm-column flex-lg-row justify-content-around  w-100 align-items-end\">\n                                <div>\n\n\n                                    <label htmlFor=\"text\">Your Answer</label>\n                                    <textarea onChange={(e) => {\n                                        setText(e.target.value)\n                                    }} className=\"form-control\" id=\"text\" rows=\"6\" cols='50'></textarea>\n                                </div>\n                                <button className='mt-xs-4 mt-md-0 btn btn-primary h-25 '>Submit</button>\n                            </div>\n\n\n                        </div>\n                    </form>\n                    <div className='mb-5'>\n                        <h3>Answers</h3>\n\n\n                        <div className=\"list-group\">\n                            {answers.map(answer => (\n\n                                <div className=\"list-group-item list-group-item-action flex-column align-items-start\" key={answer._id}>\n                                    <div className=\"d-flex w-100 justify-content-between\">\n                                        <h4 className=\"mb-1\">{answer.text}</h4>\n                                        <small>{answer.createdAt}</small>\n                                    </div>\n                                    <h5 className=\"mb-1\">-{answer.creator.email}</h5>\n\n                                    <hr />\n                                </div>\n\n                            ))}\n                        </div>\n                    </div>\n                </div>\n                )\n            }\n        </div>\n    );\n}\n\nexport default Question;\n","import React, { useContext } from 'react';\nimport AuthContext from \"../context/auth-context\";\nimport { NavLink, Link } from 'react-router-dom'\n\nconst Navbar = () => {\n    const context = useContext(AuthContext)\n    return (\n        < >\n            <nav className=\"navbar navbar-expand-sm navbar-light bg-light\">\n                <Link to='/' className=\"navbar-brand\">SF CLone</Link>\n\n                <div className=\"navbar-nav ml-sm-auto\">\n                    {context.token && (<li className=\"nav-item nav-link\"><NavLink to='/questions'>Questions</NavLink></li>)}\n\n                    {!context.token && (<li className=\"nav-item nav-link\"><NavLink to='/auth'>Login</NavLink></li>)}\n                    {context.token && (<li onClick={context.logout} className=\"nav-item nav-link\"><NavLink to='/auth'>Logout</NavLink></li>)}\n\n                </div>\n            </nav>\n\n        </>\n    );\n}\n\nexport default Navbar;\n","import React, { useState, useEffect } from 'react';\nimport './css/bootstrap.min.css';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom'\nimport AuthPage from './pages/Auth'\nimport HomePage from './pages/Home'\nimport QuestionsPage from './pages/Questions'\nimport AskQuestion from './pages/AddQuestion'\nimport Question from './pages/Question'\n\n\nimport Navbar from './components/Navbar';\n\nimport AuthContext from \"./context/auth-context\";\n\n\n\nfunction App() {\n\n  const [token, settoken] = useState(null);\n  const [userID, setuserID] = useState(null);\n\n  const login = (token, userID, tokenExpiration) => {\n    settoken(token)\n    setuserID(userID)\n  }\n  const logout = () => {\n    settoken(null)\n    setuserID(null)\n    sessionStorage.removeItem('token')\n    sessionStorage.removeItem('tokenExpiration')\n    sessionStorage.removeItem('userID')\n\n  }\n  useEffect(() => {\n\n    if (sessionStorage.getItem('token')) {\n      login(sessionStorage.getItem('token'), sessionStorage.getItem('userID'), sessionStorage.getItem('tokenExpiration'))\n\n    }\n\n  }, [])\n\n  return (\n    <BrowserRouter>\n      <>\n        <AuthContext.Provider value={{\n          token: token, userID: userID, login: login, logout: logout, API: 'https://sof-clone.herokuapp.com/graphql'\n        }}>\n          <Navbar />\n          <Switch>\n\n            {!token && (<Route path='/auth' component={AuthPage} exact />)}\n\n\n            {token && (<Redirect from='/auth' to='/questions' component={QuestionsPage} exact />)}\n            {!token && (<Redirect from='/questions' to='/auth' component={AuthPage} />)}\n            <Route path='/questions' component={QuestionsPage} exact />\n            <Route path='/questions/ask' component={AskQuestion} exact />\n            <Route path='/questions/:id' component={Question} exact />\n\n            <Route path='/' component={\n              HomePage\n            } />\n\n          </Switch>\n        </AuthContext.Provider>\n      </>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}